# EvoRoute: Experience-Driven Self-Routing LLM Agent Systems

**相关性评分**: 6.0/10

**排名**: #41


---


## 基本信息

- **arXiv ID**: [2601.02695v1](https://arxiv.org/abs/2601.02695v1)
- **发布时间**: 2026-01-06T04:06:46Z
- **相关性评分**: 6.0/10
- **是否相关**: 是

## 作者

Guibin Zhang, Haiyang Yu, Kaiming Yang, Bingli Wu, Fei Huang, Yongbin Li, Shuicheng Yan

## 关键词

Inference Efficiency, Lightweight Architecture, Inference Acceleration, Edge Deployment

## 一句话总结

EvoRoute是一种基于经验的自路由LLM代理系统，通过动态选择Pareto最优LLM骨干网络，在保持性能的同时显著降低成本和延迟，但未直接涉及视觉-语言-动作模型或机器人应用。

## 摘要

Complex agentic AI systems, powered by a coordinated ensemble of Large Language Models (LLMs), tool and memory modules, have demonstrated remarkable capabilities on intricate, multi-turn tasks. However, this success is shadowed by prohibitive economic costs and severe latency, exposing a critical, yet underexplored, trade-off. We formalize this challenge as the \textbf{Agent System Trilemma}: the inherent tension among achieving state-of-the-art performance, minimizing monetary cost, and ensuring rapid task completion. To dismantle this trilemma, we introduce EvoRoute, a self-evolving model routing paradigm that transcends static, pre-defined model assignments. Leveraging an ever-expanding knowledge base of prior experience, EvoRoute dynamically selects Pareto-optimal LLM backbones at each step, balancing accuracy, efficiency, and resource use, while continually refining its own selection policy through environment feedback. Experiments on challenging agentic benchmarks such as GAIA and BrowseComp+ demonstrate that EvoRoute, when integrated into off-the-shelf agentic systems, not only sustains or enhances system performance but also reduces execution cost by up to $80\%$ and latency by over $70\%$.

## 详细分析

## 论文《EvoRoute: Experience-Driven Self-Routing LLM Agent Systems》详细摘要

**1. 研究背景和动机**
随着基于大语言模型（LLM）的智能体系统在复杂多步骤任务上展现出卓越性能，其高昂的经济成本和严重的执行延迟问题日益凸显。本文首次将这一挑战形式化为 **“智能体系统三难困境”** ，即在追求**高性能**、**低成本**和**高效率**（低延迟）三者之间存在固有的权衡。现有系统（无论是手动配置还是静态路由方案）均无法有效破解此困境，限制了其实用化部署。

**2. 核心方法和技术创新**
本文提出了 **EvoRoute**，一种**自进化、细粒度的模型路由范式**，旨在动态破解三难困境。其核心创新在于：
- **自进化经验库**：系统持续积累并记录每个执行步骤（子任务）的详细经验（如所用模型、成本、延迟、成功率），形成不断增长的知识库。
- **多维度检索**：面对新子任务时，系统从经验库中基于**代理角色**、**语义相似性**和**工具使用模式**三个维度并行检索历史相似记录，确保决策依据的全面性。
- **帕累托最优过滤与选择**：基于检索结果，为每个候选LLM计算其在性能、成本、效率上的综合统计画像，并筛选出**帕累托最优模型集**。最后，采用**汤普森采样**策略，在平衡探索与利用的同时，根据加权效用函数做出最终模型选择。

**3. 主要实验结果**
在GAIA、BrowseComp+等多个具有挑战性的智能体基准测试上，将EvoRoute集成到现有系统（如CK-Pro、Smolagent）中进行了验证：
- **性能提升**：在保持或超越原系统性能的同时，最高实现了**10.3%** 的性能提升。
- **成本与延迟大幅降低**：与使用单一顶级模型（如Claude-4）的基线相比，**执行成本降低了最高80%，延迟减少了超过70%**。
- **有效性验证**：消融实验证实了经验库冷启动、多维度检索和汤普森采样等核心组件对系统性能至关重要。

**4. 研究意义和价值**
EvoRoute的工作具有重要的理论贡献与实践价值：
- **理论层面**：清晰定义并形式化了“智能体系统三难困境”这一关键问题，为后续研究提供了明确的优化目标和分析框架。
- **技术层面**：提出了一种通用的、可插拔的动态路由解决方案，其经验驱动、自进化的设计理念，使得系统能够随着使用不断自我优化。
- **实践层面**：显著降低了强大智能体系统的运行成本与响应时间，为推动其走向大规模、经济可行的实际应用迈出了关键一步。

## 问答对

### 问题 1

**Q**: 这篇论文的核心创新点是什么，他想解决什么问题，怎么解决的？

**A**: ## 论文核心分析：EvoRoute

### **一、 核心问题：智能体系统的“三元悖论”**

论文旨在解决当前基于大语言模型（LLM）的复杂智能体系统面临的一个根本性挑战，即 **“智能体系统三元悖论”**。

- **问题定义**：在构建通用AI助手时，系统难以同时优化以下三个核心目标：
    1.  **性能**：任务的成功率和准确性。
    2.  **成本**：执行任务所消耗的计算和货币资源（主要是API调用费用）。
    3.  **效率**：完成任务所需的时间或步骤数。

- **现状痛点**：现有的顶尖智能体系统（如AgentOrchestra、OWL-Workforce）为了追求极致性能，往往采用昂贵、强大的LLM（如GPT-4.1, Claude-4）作为固定骨干模型，导致单任务成本高达数美元、延迟长达数十分钟甚至数小时，**严重阻碍了其实际部署和经济可行性**。

### **二、 核心创新点：EvoRoute 自进化路由范式**

论文提出了 **EvoRoute**，一个旨在打破上述三元悖论的、**细粒度、自进化的模型路由框架**。其核心创新在于将静态、人工预定义的模型分配，转变为动态、基于经验、在任务执行步骤级别进行优化的智能路由。

**主要技术创新如下：**

1.  **细粒度、步骤级别的动态路由**：
    - **超越现有范式**：不同于为整个任务分配单一模型（单模型路由）或为固定多智能体角色分配模型（多智能体路由），EvoRoute 在复杂工作流的**每一个子步骤**执行前，动态选择最合适的LLM骨干。
    - **关键洞察**：复杂任务中的不同子任务（如网页浏览、编码、规划）对模型能力的需求不同，不应由同一昂贵模型“通吃”。

2.  **自进化的经验知识库**：
    - 系统维护一个不断增长的**步骤级经验知识库 `𝒦`**。每次任务执行后，系统会回溯记录每个步骤的详细信息（如：执行角色、使用的模型、子任务指令、成本、延迟、是否成功等）。
    - 这使得系统能够**从历史经验中学习**不同模型在不同上下文下的表现（性能、成本、效率），并持续优化其路由策略。

3.  **三阶段路由决策机制**：
    当面临新的子任务时，EvoRoute 通过以下流程做出路由决策：
    - **❶ 多维度检索**：从知识库中检索与当前子任务相关的历史记录。检索基于三个互补的维度：
        - **智能体角色匹配**：相同角色的历史记录。
        - **语义相似性检索**：子任务指令语义相近的历史记录。
        - **工具使用一致性检索**：预测可能使用类似工具的历史记录。
        - 取三者的并集，确保检索结果的多样性和全面性。
    - **❷ 帕累托最优过滤**：基于检索到的记录，为每个候选LLM计算其在性能、成本、效率三个维度上的平均表现。然后应用**帕累托最优**原则，过滤掉在所有维度上都被其他模型“支配”（即更差或不优于）的模型，得到一个最优前沿候选集。
    - **❸ 基于汤普森采样的最终选择**：在帕累托最优集中，使用**汤普森采样**进行最终模型选择。该方法为每个模型的三个指标建立概率分布（使用正态-逆伽马共轭先验），并通过采样来平衡**探索**（尝试不确定性高的模型）与**利用**（选择当前估计最好的模型），避免陷入局部最优。

4.  **双阶段操作模式**：
    - **优化阶段**：针对新任务，系统会进行树状探索，采样多条执行轨迹以主动丰富和多样化其知识库。
    - **推理阶段**：利用积累的知识，为任务执行单条优化路径，确保快速、经济地完成任务。

### **三、 解决方案总结**

**EvoRoute 通过“经验驱动”和“步骤级动态路由”两大核心思想，将智能体系统的设计从静态配置转变为动态优化过程。**

- **解决“怎么解决”**：
    1.  **数据驱动决策**：利用历史执行数据作为路由依据，使决策基于实证而非直觉。
    2.  **多目标优化**：通过帕累托过滤和可配置的效用函数（`U = w_p*性能 - w_c*成本 - w_d*延迟`），显式地权衡三元悖论中的三个目标。
    3.  **持续学习与进化**：每次执行的反馈都会回流到知识库，使路由策略随着系统使用而不断自我完善，形成一个**自进化的闭环**。

### **四、 实际价值与效果**

- **显著降低部署门槛**：实验表明，将EvoRoute集成到现有智能体系统（如CK-Pro, Smolagents）中，能在**维持甚至提升任务性能**的同时，将执行成本降低**高达80%**，延迟减少**超过70%**。
- **提升资源利用率**：系统学会将昂贵的大模型（如Gemini-2.5-Pro）留给最需要复杂推理的关键步骤（如规划），而在简单的操作性步骤（如文件处理）上使用经济型模型（如Qwen-14B），实现了资源的精细化配置。
- **通用性与可插拔性**：EvoRoute被设计为一个可插拔的范式，能够集成到不同的现有智能体框架中，为其赋能，而不需要重构整个系统架构。

**结论**：EvoRoute 的核心贡献在于**形式化并提出了解决智能体系统“性能-成本-效率”三元悖论的系统性方法**，其创新的自进化、细粒度路由机制为构建**经济可行、高效且高性能**的实用化AI智能体系统提供了关键的技术路径。


### 问题 2

**Q**: 请用一段话总结这篇论文，明确说明：论文试图解决的核心问题；提出的主要方法或框架；最终取得的主要效果或结论。要求语言简洁、信息密度高，不要复述摘要原文。

**A**: 这篇论文旨在解决复杂LLM智能体系统面临的**性能、成本与效率的“三元悖论”**难题。为此，论文提出了 **EvoRoute**，一个**自演化的动态模型路由框架**。其核心创新在于，它不再为智能体角色静态分配模型，而是基于一个不断积累的经验知识库，在任务执行的每个步骤粒度上，通过**多维度检索、帕累托最优筛选和基于汤普森采样的决策**，动态选择最适合当前子任务的LLM。实验表明，将EvoRoute集成到现有智能体系统中，能在**维持甚至提升任务性能**的同时，将执行成本降低**高达80%**，并将延迟减少**超过70%**，从而有效缓解了三元悖论。


### 问题 3

**Q**: 这篇论文相对于已有工作有哪些明确的创新点？请逐条列出，并对每一条说明：相比以往方法改进或不同之处在哪里，以及该创新解决了什么具体问题或带来了什么优势。

**A**: ## 论文《EvoRoute: Experience-Driven Self-Routing LLM Agent Systems》的创新点分析

这篇论文针对复杂LLM智能体系统在性能、成本和效率之间的固有矛盾，提出了一个系统性的解决方案。其核心创新点可归纳为以下几条：

### 1. **问题形式化：提出“智能体系统三难困境”**
- **相比以往方法的改进/不同之处**：以往的研究和系统通常孤立地追求任务成功率（性能），而将执行成本和延迟视为次要或未明确优化的指标。本文首次将这三个维度（性能、成本、效率）之间的内在张力**形式化**为一个“三难困境”，并明确指出构建一个同时在三方面都最优的“三优”系统是核心挑战。
- **解决的具体问题/带来的优势**：这为评估和设计实用化智能体系统建立了一个清晰、统一的框架。它迫使研究社区和开发者正视大规模部署智能体时的经济成本和实时性约束，将优化目标从单一的“性能至上”转向更符合实际需求的**多目标权衡**。

### 2. **技术范式：细粒度、经验驱动的动态路由策略**
- **相比以往方法的改进/不同之处**：
    - **与静态分配对比**：传统智能体系统（如CK-Pro, AgentOrchestra）为每个智能体角色**静态、硬编码**地指定一个LLM骨干模型。`EvoRoute` 打破了这种刚性设计，允许在每个执行步骤动态选择模型。
    - **与现有路由方法对比**：现有的模型路由工作（如 `PromptLLM`, `MasRouter`）主要针对**单轮、原子性任务**（如数学推理、代码生成），或在多智能体系统中进行**单次、粗粒度的角色分配**。`EvoRoute` 的创新在于将路由**粒度细化到复杂工作流的每一个子任务步骤**，实现了真正的**步骤级动态路由**。
- **解决的具体问题/带来的优势**：解决了复杂、多轮任务中不同子任务（如规划、浏览、编码）对模型能力需求不同的问题。通过为每个步骤选择最“划算”的模型，能够在全局上实现性能、成本、延迟的帕累托优化，而不是为整个任务或整个角色盲目使用最强大（也最昂贵）的模型。

### 3. **核心机制：自演进经验库与多维度检索**
- **相比以往方法的改进/不同之处**：
    - **自演进经验库 (`𝒦`)**：系统持续记录每个执行步骤的详细元数据（角色、模型、子任务指令、成本、延迟、工具使用、最终任务成功率等），形成一个不断增长的知识库。这与需要依赖大规模预收集轨迹或静态规则的方法不同。
    - **多维度检索**：在为新子任务选择模型时，并非只依赖语义相似性。`EvoRoute` 创新性地从**三个独立维度**进行检索并取并集：**1) 智能体角色匹配**、**2) 语义相似性**、**3) 工具使用一致性**。这种“至少满足一个”的宽松策略确保了检索结果的多样性和覆盖面。
- **解决的具体问题/带来的优势**：
    - **解决冷启动问题**：通过一个低成本、随机的探索阶段（使用50个种子任务）初始化经验库，为系统提供了启动所需的先验知识。
    - **提升路由决策的上下文感知能力**：多维度检索确保了决策不仅基于“任务像什么”，还基于“谁（角色）来做”和“需要用什么工具”，使得模型选择更加精准，适应复杂智能体工作流的特性。

### 4. **决策方法：帕累托过滤与汤普森采样结合**
- **相比以往方法的改进/不同之处**：
    - **帕累托最优过滤**：在从检索结果中聚合出每个候选模型的（性能、成本、延迟）统计画像后，`EvoRoute` 首先过滤掉在所有维度上都被其他模型“支配”的模型，只保留**帕累托最优前沿**上的模型。这直接服务于解决“三难困境”的多目标优化本质。
    - **基于不确定性的汤普森采样**：在从帕累托前沿做最终选择时，没有采用简单的贪婪策略，而是为每个模型的每个指标建立**正态-逆伽马共轭先验**，通过采样来估计其效用。这引入了**有原则的探索**，以应对经验数据有限带来的不确定性。
- **解决的具体问题/带来的优势**：
    - **保证决策效率与质量**：帕累托过滤直接排除了明显次优的选择，缩小了决策空间。
    - **平衡探索与利用**：汤普森采样允许系统在数据不足时尝试可能有潜力的模型，避免陷入局部最优，使路由策略能够随着经验积累而持续自我进化。

### 5. **系统设计：优化与推理双阶段操作模式**
- **相比以往方法的改进/不同之处**：`EvoRoute` 明确设计了两种操作模式：
    - **优化阶段**：针对给定任务，进行**树状探索**，采样多条执行轨迹以主动丰富和多样化经验库。
    - **推理阶段**：利用积累的经验，遵循单条优化路径执行，确保快速、经济地完成任务。
- **解决的具体问题/带来的优势**：实现了 **“在探索中学习，在利用中高效”** 的闭环。系统不是被动地记录历史，而是可以主动地、有针对性地探索未知的模型-任务组合，加速经验库的成长和路由策略的成熟，从而更好地适应新任务。

### **总结：整体创新价值**
将这些创新点整合起来，`EvoRoute` 的核心贡献在于**将一个静态、昂贵的智能体系统，转变为一个动态、经济、自适应的资源调度系统**。它通过**步骤级经验学习**和**多目标优化决策**，实质性地破解了“智能体系统三难困境”。实验证明，其在维持甚至提升性能的同时，能**降低高达80%的成本和超过70%的延迟**，为LLM智能体的大规模实际部署扫除了关键的经济和效率障碍。


### 问题 4

**Q**: 论文在实验或评估中最终实现了怎样的效果？请说明使用了哪些数据集和评价指标，与哪些基线方法进行了对比，以及在关键指标上的主要性能提升或结论。如果论文未给出明确的定量结果，也请说明原因。

**A**: ## 论文实验与评估效果分析

论文通过一系列实验，系统地评估了 **EvoRoute** 框架在解决“智能体系统三难困境”（性能、成本、效率）方面的有效性。

### 一、 使用的数据集
实验在五个具有挑战性的智能体基准测试上进行，涵盖不同复杂度的任务：
1.  **GAIA**： 通用智能体基准，评估文件阅读、网页浏览、编码等能力。包含165个任务，按难度分为三级（Level 1: 53个， Level 2: 86个， Level 3: 26个）。
2.  **BrowseComp+**： 增强版的网页浏览与理解基准，包含830个评估实例。
3.  **DS-1000**： 数据科学任务基准，包含1000个任务。
4.  **HotpotQA**： 多跳问答基准，包含7405个查询。
5.  **DDXPlus**： 医学推理基准，从原约13万样本中随机抽取1000个实例进行评估。

### 二、 评价指标
评估围绕“三难困境”的三个核心维度展开：
-   **性能 (Performance)**： 任务成功率（%）。
-   **成本 (Cost)**： 执行任务消耗的累计货币成本（美元）。
-   **效率/延迟 (Delay/Efficiency)**： 完成任务的累计挂钟时间（小时）。

### 三、 对比的基线方法
论文与两大类基线方法进行了对比：
1.  **手动设置 (Manual Setting)**：
    -   各智能体框架（如CK-Pro, Smolagent, ReAct）**原生的、预定义的静态LLM配置**。
    -   手动统一指定单一高性能模型（如 `GPT-4.1`, `Gemini-2.5-Pro`, `Claude-4`, `GPT-4o`）作为所有角色的骨干。
    -   手动指定单一低成本模型（如 `Qwen3-14b`）。
2.  **模型路由方法 (Model Routing)**：
    -   **PromptLLM**： 基于提示学习的路由方法。
    -   **GraphRouter**： 基于图神经网络的路由方法。
    -   **MasRouter**： 专为多智能体系统设计的角色路由方法（SOTA方法）。

### 四、 关键性能提升与结论
实验结果表明，**EvoRoute 在维持或提升性能的同时，大幅降低了成本和延迟，有效缓解了“三难困境”**。

#### 主要定量结果：
1.  **在复杂任务（GAIA, BrowseComp+）上实现“三赢”**：
    -   **性能提升**： 在CK-Pro框架上，EvoRoute在GAIA上的整体性能达到 **63.19%**，显著优于原生Claude-4配置的58.28%，也超过了所有路由基线（如MasRouter的53.50%）。在BrowseComp+上达到 **38.72%**，优于Claude-4基线的33.50%。
    -   **成本锐减**： 在CK-Pro+GAIA上，成本从Claude-4基线的 **$359.32** 降至 **$85.40**，**降低超过76%**。在BrowseComp+上，成本从$220.50降至$79.30，**降低约64%**。
    -   **延迟降低**： 在多个设置下，延迟均有显著改善。例如，在Smolagent+GAIA上，EvoRoute的延迟（8.90小时）低于大多数基线（如PromptLLM的12.20小时）。

2.  **在综合任务集（DS-1000, HotpotQA, DDXPlus）上表现卓越**：
    -   EvoRoute取得了 **最高的平均性能（74.60%）**，略优于手动使用最贵模型`Gemini-2.5-Pro`的74.27%。
    -   同时，EvoRoute的成本（$138.40）仅为`Gemini-2.5-Pro`基线（$521.61）的 **约26%**，延迟（92.23小时）也减少了 **25%**。

3.  **与现有路由方法的对比优势**：
    -   现有的SOTA路由方法（如MasRouter）虽然能部分优化，但**未能根本性打破三难困境**。它们在性能上仍落后于顶级单体模型，在成本节约上也不彻底。
    -   **EvoRoute在性能上超越了所有路由基线，同时在成本和效率上实现了更大幅度的优化**，证明了其细粒度、经验驱动路由范式的优越性。

#### 核心结论：
-   **验证了三难困境的存在**： 实验证实，现有智能体系统无法同时兼顾高性能、低成本和快速度。追求SOTA性能通常伴随高昂开销。
-   **EvoRoute的有效性**： EvoRoute通过**动态、细粒度的模型选择**，能够智能地将高能力模型分配给关键推理步骤，将低成本模型用于常规子任务。
-   **显著的实用价值**： 论文宣称，EvoRoute在集成到现有智能体系统后，能在维持性能的同时，**降低高达80%的执行成本和超过70%的延迟**。这使其向**经济可行、可扩展的实际部署**迈出了关键一步。

**总结**： 论文通过在多数据集、多框架、多基线下的充分实验，提供了强有力的定量证据，表明EvoRoute是解决LLM智能体系统“性能-成本-效率”权衡问题的一个有效且创新的方案。


## 相关链接

- [arXiv 页面](https://arxiv.org/abs/2601.02695v1)
- [HTML 版本](https://arxiv.org/html/2601.02695v1)
