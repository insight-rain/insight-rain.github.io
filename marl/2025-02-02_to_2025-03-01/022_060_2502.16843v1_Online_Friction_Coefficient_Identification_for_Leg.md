# Online Friction Coefficient Identification for Legged Robots on Slippery Terrain Using Smoothed Contact Gradients

**相关性评分**: 6.0/10

**排名**: #22


---


## 基本信息

- **arXiv ID**: [2502.16843v1](https://arxiv.org/abs/2502.16843v1)
- **发布时间**: 2025-02-24T05:01:37Z
- **相关性评分**: 6.0/10
- **是否相关**: 是

## 作者

Hajun Kim, Dongyun Kang, Min-Gyu Kim, Gijeong Kim, Hae-Won Park

## 关键词

Robot control, quadruped robot locomotion, mujoco, local observational information

## 一句话总结

该论文提出了一种用于腿式机器人在湿滑地形上在线识别摩擦系数的框架，通过平滑接触梯度优化问题，并在四足机器人平台上验证。

## 摘要

This paper proposes an online friction coefficient identification framework for legged robots on slippery terrain. The approach formulates the optimization problem to minimize the sum of residuals between actual and predicted states parameterized by the friction coefficient in rigid body contact dynamics. Notably, the proposed framework leverages the analytic smoothed gradient of contact impulses, obtained by smoothing the complementarity condition of Coulomb friction, to solve the issue of non-informative gradients induced from the nonsmooth contact dynamics. Moreover, we introduce the rejection method to filter out data with high normal contact velocity following contact initiations during friction coefficient identification for legged robots. To validate the proposed framework, we conduct the experiments using a quadrupedal robot platform, KAIST HOUND, on slippery and nonslippery terrain. We observe that our framework achieves fast and consistent friction coefficient identification within various initial conditions.

## 详细分析

## 论文摘要

**论文标题**：使用平滑接触梯度在光滑地形上对腿式机器人进行在线摩擦系数辨识

### 1. 研究背景和动机
腿式机器人在复杂地形（尤其是光滑地面）上导航时，精确的接触动力学建模至关重要。摩擦系数是库仑摩擦模型中的关键参数，其估计不准确会导致模型预测与现实动态严重偏离。然而，由于接触动力学的**非光滑和非线性特性**（特别是在滑动事件中），在线实时辨识摩擦系数极具挑战性。现有方法（如离线辨识或基于采样的平滑方法）存在**梯度信息缺失**或**计算效率低下**的问题，难以满足腿式机器人实时、鲁棒控制的需求。

### 2. 核心方法和技术创新
本文提出了一种**在线摩擦系数辨识框架**，主要包含两项核心技术：
- **平滑接触梯度**：针对非光滑接触动力学导致的**非信息性梯度**问题，提出了一种**解析平滑梯度**方法。该方法通过平滑库仑摩擦的互补性条件，获得了接触冲量关于摩擦系数的平滑梯度，从而使得基于梯度的优化策略即使在初始估计值远高于真实值（导致模型处于“夹持”状态而非滑动）时，也能获得有效的梯度信息并进行参数更新。
- **数据拒绝方法**：为了提升辨识的**一致性**，特别是在非光滑地形上，提出了一种基于法向接触速度的**数据拒绝机制**。该方法过滤掉接触建立初期具有高法向速度的数据，防止这些数据在非光滑地形上产生误导性的高置信度分数，从而避免参数的不必要更新。

### 3. 主要实验结果
在KAIST HOUND四足机器人平台上，于光滑（丙烯酸板）和非光滑地形上进行了实验验证：
- **有效性**：提出的平滑梯度方法成功解决了非光滑梯度导致的辨识失败问题，能够在机器人发生滑动时，快速、一致地将摩擦系数估计值从初始高值（如0.8）收敛到真实低值（约0.19）。
- **鲁棒性**：与**非光滑梯度方法**和**随机平滑方法**相比，本文方法在各种初始条件下均能成功辨识，且计算时间更短（相比随机平滑方法）。
- **一致性**：结合数据拒绝方法，框架在非光滑地形上能稳定保持接近预设默认值的估计，避免了因接触冲击导致的错误更新，从而在整个运行过程中表现出更高的一致性。

### 4. 研究意义和价值
本工作为腿式机器人的**在线自适应控制**提供了关键技术支持：
- **技术贡献**：首次为腿式机器人的接触动力学提供了针对摩擦系数的**解析平滑梯度**，并设计了配套的数据预处理流程，系统性地解决了在线辨识中的梯度信息缺失和噪声数据干扰问题。
- **实际价值**：该框架能使机器人在未知或变化的地形上**实时、准确地感知地面摩擦特性**，为模型预测控制（MPC）等基于模型的控制器提供关键参数，从而增强机器人在光滑等挑战性地形上的运动鲁棒性和安全性。该方法计算高效，适合在机载计算资源上实时运行。

## 问答对

### 问题 1

**Q**: 这篇论文的核心创新点是什么，他想解决什么问题，怎么解决的？

**A**: ## 论文核心分析

### **研究问题**
论文旨在解决**足式机器人在湿滑地形上实时、在线识别摩擦系数**的难题。核心挑战在于：
- **非光滑接触动力学**：基于库仑摩擦的刚体接触模型具有非光滑的互补约束，导致在参数辨识的梯度优化过程中出现**非信息性梯度**，阻碍了摩擦系数的有效更新。
- **数据质量问题**：机器人运动数据中（如触地瞬间的高法向速度）包含大量对摩擦系数辨识无益甚至有害的“噪声”数据，会影响辨识的准确性和一致性。

### **核心创新点**
论文提出了一个集成的在线辨识框架，主要包含两大技术创新：

1.  **解析平滑接触梯度**
    - **方法**：对库仑摩擦的互补条件进行平滑处理，提出了**接触冲量关于摩擦系数的解析平滑梯度**。具体而言，将非光滑的互补约束 `||v_t|| ⟂ (μ²(λⁿ)² - ||λ_t||²) ≥ 0` 平滑为 `||v_t|| · (μ²(λⁿ)² - ||λ_t||²) = ρ_t`。
    - **解决的核心问题**：彻底解决了因模型“夹持”状态（当估计摩擦系数μ̂远高于真实值μ_true时，模型预测为无滑动，而实际发生滑动）导致的梯度为零（`∂λ/∂μ = 0`）的问题。平滑后的梯度始终为信息性梯度（`∂λ/∂μ ≠ 0`），使得优化算法即使在初始估计不准的情况下也能向正确的低摩擦系数方向更新。

2.  **基于法向接触速度的数据拒绝方法**
    - **方法**：设计了一个“拒绝分数”，用于筛选数据缓冲区中的数据。该分数主要监控**法向接触速度的大小及其变化率**。当分数超过阈值时，对应接触点的数据将被排除在参数优化过程之外。
    - **解决的核心问题**：过滤掉了触地瞬间产生的高法向速度数据。这些数据在非湿滑地形上也会导致**置信度分数**（基于切向速度计算）不合理地升高，从而引发对摩擦系数不必要的、错误的更新，导致在非湿滑地形上估计值不稳定。

### **解决方案框架**
论文将上述创新点整合到一个基于**置信度分数的在线系统辨识框架**中：
```
[传感器数据] -> [状态估计器] -> [数据缓冲区] -> **[数据拒绝方法]** -> [优化问题]
     ^                                                              |
     |                                                              v
[机器人] <-- [控制器] <-- [更新后的模型参数] <-- **[置信度分数更新]** <-- **[平滑梯度求解]**
```
- **优化问题**：最小化基于接触动力学的状态预测与实际状态测量之间的误差。
- **置信度分数**：基于平均切向滑动速度计算，确保参数更新仅在机器人发生显著滑动（即数据信息性强）时进行。
- **整体流程**：利用平滑梯度高效求解优化问题，结合拒绝方法保证输入数据的质量，再通过置信度分数机制决定是否及如何更新参数，最终实现快速、一致的在线摩擦系数辨识。

### **实际价值**
- **性能提升**：实验表明，该方法相比**非光滑梯度法**和**随机平滑法**，能实现**更快、更一致**的辨识，且计算效率更高。
- **鲁棒性**：在不同初始摩擦系数估计值下均能有效工作，解决了因初始估计过高导致辨识失败的问题。
- **应用前景**：为依赖精确接触模型的**模型预测控制**等算法提供了关键的实时环境参数，能直接提升足式机器人在未知、湿滑地形上的运动适应性和安全性。例如，控制器可以根据在线辨识的低摩擦系数，实时调整步态和发力策略以防止打滑。


### 问题 2

**Q**: 请用一段话总结这篇论文，明确说明：论文试图解决的核心问题；提出的主要方法或框架；最终取得的主要效果或结论。要求语言简洁、信息密度高，不要复述摘要原文。

**A**: 这篇论文旨在解决**足式机器人在光滑地面上实时、准确识别摩擦系数**的难题。该问题的核心挑战在于，基于库仑摩擦的刚体接触动力学具有非光滑特性，导致在梯度优化过程中出现**非信息性梯度**，从而阻碍了参数的有效更新。

为此，论文提出了一个**在线摩擦系数辨识框架**。其核心技术创新是**对库仑摩擦互补条件进行平滑处理，推导出接触冲量关于摩擦系数的解析平滑梯度**，从而解决了非信息性梯度问题。此外，框架还引入了**基于法向接触速度的数据拒绝方法**，以过滤掉接触建立初期不可靠的数据，并结合了**置信度评分更新机制**来提升在线辨识的鲁棒性。

通过在KAIST HOUND四足机器人硬件上的实验验证，该框架能够在多种初始条件下，**快速、一致地**识别出光滑与非光滑地面的摩擦系数。与使用非光滑梯度或随机平滑方法相比，该方法在保持较低计算时间的同时，实现了更优的收敛性能和更一致的估计结果。


### 问题 3

**Q**: 这篇论文相对于已有工作有哪些明确的创新点？请逐条列出，并对每一条说明：相比以往方法改进或不同之处在哪里，以及该创新解决了什么具体问题或带来了什么优势。

**A**: ## 论文创新点分析

这篇论文针对足式机器人在光滑地形上的在线摩擦系数辨识问题，提出了一个包含多项关键创新的框架。其核心创新点在于**解决了非光滑接触动力学导致的梯度信息缺失问题**，并**提升了在线辨识的鲁棒性与效率**。具体创新点如下：

### 1. 针对摩擦系数的解析平滑接触梯度
- **改进/不同之处**：
    - **以往方法**：基于非光滑接触动力学（如互补条件）计算梯度。当估计摩擦系数 `μ_hat` 远大于真实值 `μ_true` 时，动力学模型中的足端可能被错误地判定为“夹紧”状态，导致接触冲量对摩擦系数的梯度为零（即**非信息性梯度**），从而阻碍优化更新。
    - **本文方法**：提出对库伦摩擦的互补条件进行**解析平滑**。具体而言，将非光滑的互补约束 `0 ≤ ||v^t|| ⟂ (μ^2(λ^n)^2 - ||λ^t||^2) ≥ 0` 平滑为 `||v^t|| · (μ^2(λ^n)^2 - ||λ^t||^2) = ρ_t`，并由此推导出接触冲量相对于摩擦系数的**解析平滑梯度**（公式16）。
- **解决的问题/带来的优势**：
    - **解决了非信息性梯度问题**：即使在初始估计过高、模型预测为“夹紧”而实际发生滑动的“失配”情况下，平滑后的梯度依然能提供有效的更新方向（`∂λ/∂μ ≠ 0`）。
    - **实现了更快、更一致的辨识**：如图4和图8所示，相比使用非光滑梯度的方法，平滑梯度能使摩擦系数估计在机器人打滑时快速、准确地收敛到真实低值，避免了因梯度消失而导致的辨识失败。
    - **计算效率高**：相比同样用于处理非光滑性的**随机平滑方法**（如零阶或一阶随机平滑），本文的解析方法无需大量采样，计算时间显著更短（图9），更适合在线实时应用。

### 2. 基于法向接触速度的数据拒绝方法
- **改进/不同之处**：
    - **以往方法**：先前基于置信度的参数更新方法（如[21]）主要依赖**切向接触速度**来评估数据的信息量。然而，在非光滑地形上，足端触地瞬间产生的高法向速度也会导致置信度分数不合理地升高，引发非信息性数据的误用。
    - **本文方法**：引入了一个**拒绝分数**（公式21-23），该分数基于**法向接触速度及其变化率**。如果任一接触点的拒绝分数超过阈值 `γ_rej`，则该接触点的数据将被排除在摩擦系数辨识的优化问题之外。
- **解决的问题/带来的优势**：
    - **提升了在非光滑地形上的估计一致性**：如图4（右下）和图5所示，拒绝方法有效过滤了因触地冲击产生的高法向速度数据，防止了机器人在非光滑地形上行走时置信度分数被错误拉高，从而避免了摩擦系数的不必要更新，使其能稳定保持在预设的默认值附近。
    - **保持了在光滑地形上的灵敏度**：当机器人在光滑地形上真正滑动时，拒绝分数不会显著抑制置信度分数的增长（图5左下），确保辨识机制能被正常触发。

### 3. 集成平滑梯度与拒绝方法的在线辨识框架
- **改进/不同之处**：
    - **以往工作**：有的研究专注于离线辨识简单系统（如[11,12]）；有的在线方法未专门处理非光滑梯度问题（如[21]）；有的学习类方法（如[20]）需要大量仿真数据训练且不提供梯度。
    - **本文方法**：将上述两项创新（平滑梯度、拒绝方法）与一个基于置信度分数的在线系统辨识框架（源自[21]）相结合，形成了一个完整的、针对足式机器人摩擦系数在线辨识的解决方案。
- **解决的问题/带来的优势**：
    - **实现了对复杂足式机器人的在线、实时辨识**：该框架在KAIST HOUND四足机器人硬件上得到验证，能够在机器人交替穿越光滑与非光滑地形时，快速、自适应地更新摩擦系数估计。
    - **增强了框架的实用性与鲁棒性**：平滑梯度解决了收敛性问题，拒绝方法解决了数据质量问题，二者结合使得整个在线辨识过程在不同地形和不同初始条件下都更加可靠和一致。

### 总结
本文的核心技术创新在于**从梯度计算和数据筛选两个层面，系统性地解决了足式机器人在线摩擦系数辨识中的关键瓶颈**。**解析平滑梯度**确保了优化过程始终能获得有效的下降方向，**数据拒绝方法**则保证了用于更新的数据质量。两者共同作用，使得该框架相比已有的非光滑方法或随机平滑方法，在**收敛速度、估计准确性、计算效率和跨地形一致性**方面均有显著提升，为依赖精确接触模型的模型预测控制等应用提供了关键参数在线自适应的实用工具。


### 问题 4

**Q**: 论文在实验或评估中最终实现了怎样的效果？请说明使用了哪些数据集和评价指标，与哪些基线方法进行了对比，以及在关键指标上的主要性能提升或结论。如果论文未给出明确的定量结果，也请说明原因。

**A**: ## 实验与评估效果分析

本文通过**硬件实验**在四足机器人KAIST HOUND上验证了所提出的在线摩擦系数辨识框架。实验在**真实物理环境**中进行，而非使用仿真数据集。评价主要基于**辨识过程的收敛性、一致性、速度和计算效率**。

### 1. 实验设置与评价指标
- **实验平台与地形**：
    - **机器人**：KAIST HOUND 四足机器人。
    - **地形**：两种真实地形交替进行实验。
        - **非光滑（高摩擦）地形**：实测摩擦系数约为 1.0。
        - **光滑（低摩擦）地形**：铺有硼酸粉末的亚克力板，实测摩擦系数约为 0.19。
    - **任务**：机器人从非光滑地形开始，交替行走于光滑与非光滑地形之间。

- **核心评价指标**：
    1.  **辨识的摩擦系数值**：在线估计值 `μ_hat` 与实测参考值 (`μ_true ≈ 0.19` 或 `1.0`) 的接近程度和收敛速度。
    2.  **优化损失（Loss）**：公式 (18) 定义的预测状态与实际状态之间的残差平方和。**更低的损失表明动力学模型（使用估计的摩擦系数）能更准确地预测真实机器人状态。**
    3.  **计算时间**：求解优化问题 (18) 所需的单次计算时间。
    4.  **一致性**：在非光滑地形上，估计值是否能在缺乏滑移信息时稳定在默认值附近，避免错误更新。

### 2. 对比的基线方法
论文与以下三种方法进行了对比：
1.  **非光滑梯度法**：使用文献 [21] 的方法，基于未平滑的接触动力学解析梯度。
2.  **随机平滑法（一阶）**：采用文献 [13, 16] 的一阶随机平滑方法，通过采样获得随机梯度。
3.  **随机平滑法（零阶）**：采用文献 [13, 16] 的零阶随机平滑方法。

### 3. 关键性能与结论

#### 3.1 主要性能提升（与基线对比）
- **vs. 非光滑梯度法**：
    - **问题**：当初始估计摩擦系数 (`μ_hat = 0.8`) 远高于真实光滑地面摩擦系数 (`μ_true ≈ 0.19`) 时，接触动力学模型会错误地判断为“夹紧”状态，导致梯度为零（非信息性梯度）。这使得优化无法更新参数，**摩擦系数辨识失败**（图4左下，图8b）。
    - **本文方法效果**：提出的平滑梯度始终提供信息性梯度，使优化能快速将摩擦系数从初始的0.8修正至接近0.2的正确范围（图4左上，图8a）。**成功解决了因非光滑性导致的辨识停滞问题。**

- **vs. 随机平滑法**：
    - **计算效率**：本文的解析平滑梯度法**计算时间显著更短**（图9）。
        - 本文方法：平均计算时间约 **0.01秒**。
        - 随机平滑法：由于需要大量采样（文中为50个）并进行并行计算，平均计算时间约 **0.04-0.05秒**。
    - **辨识精度与一致性**：在7次重复实验中，本文方法估计值的**均值和方差都更优**（图9直方图），且达到了**更低的平均优化损失**（图6），表明模型预测更准确。

#### 3.2 数据拒绝方法的效果
- **问题**：在非光滑地形上，足端触地瞬间的高法向接触速度会导致置信度分数（基于切向速度）不合理地升高，可能触发不必要的、错误的参数更新。
- **效果**：引入拒绝方法后（图4右上），在非光滑地形上的估计值能更稳定地保持在默认值（0.8）附近，**提高了辨识的一致性**。同时，该方法在机器人真正滑移时（光滑地形）**不会显著抑制置信度分数的合理上升**（图5），保证了有效数据的利用。

#### 3.3 综合结论
1.  **技术创新验证成功**：提出的**解析平滑接触梯度**有效克服了非光滑接触动力学在参数辨识中产生的非信息性梯度问题，使梯度下降优化能够在各种初始条件下（即使初始估计很高）快速、一致地收敛到真实的低摩擦系数。
2.  **实际应用价值**：
    - **实时性**：计算效率高（~10Hz），满足在线辨识需求。
    - **鲁棒性**：结合**置信度分数更新**和**数据拒绝方法**，系统能智能地区分信息性/非信息性数据，在滑移和非滑移地形上均表现稳定。
    - **兼容性**：该框架可集成到需要在线摩擦系数的模型预测控制器中，提升机器人在未知光滑地形上的运动性能。

**总结**：本文通过硬件实验证明，所提框架能在线、快速、准确地辨识四足机器人脚下的摩擦系数，性能在**收敛性、一致性和计算速度**上均优于非光滑梯度法和随机平滑基线方法，为解决腿式机器人在光滑地形上的自适应控制提供了关键的技术支持。


## 相关链接

- [arXiv 页面](https://arxiv.org/abs/2502.16843v1)
- [HTML 版本](https://arxiv.org/html/2502.16843v1)
