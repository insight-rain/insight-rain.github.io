# Music-Driven Legged Robots: Synchronized Walking to Rhythmic Beats

**相关性评分**: 6.0/10

**排名**: #27


---


## 基本信息

- **arXiv ID**: [2503.04063v1](https://arxiv.org/abs/2503.04063v1)
- **发布时间**: 2025-03-06T03:41:18Z
- **相关性评分**: 6.0/10
- **是否相关**: 是

## 作者

Taixian Hou, Yueqi Zhang, Xiaoyi Wei, Zhiyan Dong, Jiafu Yi, Peng Zhai, Lihua Zhang

## 关键词

Robot control, quadruped robot locomotion, mujoco

## 一句话总结

该论文提出了一种分层架构，使四足机器人能够根据外部音乐节奏同步行走，重点关注频率和相位控制，但未涉及多智能体强化学习或边缘部署。

## 摘要

We address the challenge of effectively controlling the locomotion of legged robots by incorporating precise frequency and phase characteristics, which is often ignored in locomotion policies that do not account for the periodic nature of walking. We propose a hierarchical architecture that integrates a low-level phase tracker, oscillators, and a high-level phase modulator. This controller allows quadruped robots to walk in a natural manner that is synchronized with external musical rhythms. Our method generates diverse gaits across different frequencies and achieves real-time synchronization with music in the physical world. This research establishes a foundational framework for enabling real-time execution of accurate rhythmic motions in legged robots. Video is available at website: https://music-walker.github.io/.

## 详细分析

## 论文摘要：《音乐驱动的腿式机器人：与节奏节拍同步行走》

### 1. 研究背景和动机
动物运动（如行走）具有显著的周期性，并与音乐节奏存在内在联系。现有腿式机器人的学习控制器通常只响应速度指令，而忽略了步态频率和相位这一关键周期性特征，导致其运动缺乏自然韵律感。受自然界生物（如鹦鹉、海狮）能够与音乐节奏同步的启发，本研究旨在为腿式机器人开发一种能够**实时、精确地将其步态与外部音乐节奏同步**的控制框架，以增强其运动的自然性、可控性与交互表现力。

### 2. 核心方法和技术创新
本文提出了一种**分层控制架构**，包含三个核心模块：
- **底层相位跟踪策略与振荡器**：结合了可训练的相位跟踪策略和分布式相位振荡器。振荡器接收标称频率指令，并通过**地面反作用力反馈**动态调整各腿相位，实现了对指定频率的精确跟踪和稳定步态（如小跑）的快速收敛。
- **高层相位调制器**：接收音乐特征（节拍频率、当前相位），通过微调机器人的内在频率来**最小化机器人步态相位与音乐相位之间的差异**，从而实现平滑的相位同步。
- **地面反作用力预测模块**：通过机器人本体感知信息（如足部接触状态）预测地面反作用力，**降低了对高精度力传感器的依赖**，提升了系统在真实机器人平台上的部署可行性。

该方法的**主要技术创新**在于将频率跟踪（底层）和相位同步（高层）解耦的分层设计，以及利用振荡器模型显式地建模和控制步态的周期特性。

### 3. 主要实验结果
在仿真与Unitree Go1实体机器人上进行了验证：
- **频率跟踪**：底层网络能在1.5-4.0 Hz频率范围内精确跟踪指令，平均频率偏差小于0.05 Hz。
- **节奏同步**：在多种BPM（89.6-181.8）的音乐测试中，本文方法在**节拍对齐精度**（最大时间差≤0.06秒）和**运动平滑性**（内在频率调整方差最小）上均优于其他奖励函数设计的对比方法。
- **仿真到现实迁移**：通过处理实时延迟、频率平滑等技术，成功在户外环境中实现了Go1机器人与音乐的实时步态同步，运动自然流畅。

### 4. 研究意义和价值
本研究的意义与价值体现在：
- **技术价值**：为腿式机器人提供了一种**基于节律的、高精度运动控制新范式**，通过显式引入频率和相位控制，提升了学习控制器的可解释性和可控性。
- **应用价值**：不仅为机器人表演、娱乐交互开辟了新方向，其**分层、鲁棒的设计框架**也为实现更复杂的节律性动作（如舞蹈）奠定了技术基础，推动了机器人在动态人机交互场景中的应用。
- **学术价值**：将生物运动中的节律同步现象成功迁移到机器人控制领域，是**仿生控制与强化学习结合**的一次有益探索。

## 问答对

### 问题 1

**Q**: 这篇论文的核心创新点是什么，他想解决什么问题，怎么解决的？

**A**: ## 论文核心分析

### **研究目标与拟解决的问题**
本文旨在解决**足式机器人运动控制中频率与相位特性被忽视**的问题。传统基于强化学习的控制器通常只响应速度指令，忽略了行走本身具有的周期性节律。论文希望让四足机器人能够像自然界中某些动物（如鹦鹉、海狮）一样，实现**与外部音乐节奏的实时同步行走**，从而增强机器人运动的自然性、可控性与娱乐交互潜力。

### **核心创新点**
论文提出了一个**分层控制架构**，将**可训练的相位跟踪器、振荡器与高层相位调制器**相结合，实现了对机器人步态频率与相位的精确、柔性控制。其创新性主要体现在以下三个层面：

1.  **可训练的相位跟踪器与振荡器的结合**：
    - **创新**：设计了一个低层网络（相位跟踪策略 `π_l`）与分布式相位振荡器耦合的系统。该振荡器基于反馈模型（公式4），利用归一化地面反作用力（GRF）进行调节。
    - **价值**：使机器人能够接受**标称频率指令**（`f_cmd`），并精确跟踪该频率生成多样步态（如小跑），解决了传统方法中频率与速度指令强耦合、无法独立控制的问题。

2.  **地面反作用力预测模块**：
    - **创新**：提出一个神经网络模块，仅依靠本体感知信息（如足部接触指示器、关节状态）来预测归一化GRF（`G_norm`）。
    - **价值**：使得该控制器能够**部署在无高精度力传感器的机器人平台**上，降低了硬件依赖和成本。同时，通过课程学习式训练（公式7），平滑地从仿真力过渡到预测力，保证了学习稳定性和Sim2Real的迁移性。

3.  **适用于实时操作的分层控制框架**：
    - **创新**：采用**两阶段训练策略**。第一阶段训练低层网络实现**频率一致性**；第二阶段冻结低层参数，训练高层相位调制网络（`π_h`）实现**相位一致性**。
    - **价值**：
        - **解耦设计**：将复杂的节奏同步任务分解为频率跟踪和相位调制两个子问题，简化了学习难度。
        - **实时性与平滑性**：高层网络通过微调内部频率（`ω~ = ω_m + δω`）来最小化机器人步态相位与音乐相位在单位圆上的“距离”（公式8），实现了平滑、自然的节奏同步，避免了为“卡拍”而产生生硬的急动。
        - **端到端部署**：整个系统（音乐处理→高层调制→振荡器→低层策略）可在真实机器人上实时运行，成功从仿真迁移到现实。

### **解决方案的总体思路**
1.  **问题定义**：将“随乐行走”分解为两个一致性条件：**频率一致性**（步频≈音乐节拍频率）和**相位一致性**（脚触地时刻对准音乐节拍点）。
2.  **系统构建**：
    - **底层**：相位振荡器生成各腿的周期性相位信号；低层强化学习策略根据速度命令、本体状态和当前相位，输出关节目标位置，并依靠特殊的相位奖励（公式3）学习使步态（摆动/支撑期）与振荡器相位对齐。
    - **高层**：接收音乐特征（节拍频率`ω_m`、当前音乐帧相位`θ_m`）和机器人振荡器相位，输出对底层振荡器固有频率的微小调整量`δω`，驱动机器人相位环向音乐相位环对齐。
3.  **训练与验证**：
    - 在Isaac Gym中使用大量并行环境进行高效训练。
    - 实验表明，低层网络能精确跟踪1.5-4.0 Hz的频率指令（误差<0.05 Hz）。
    - 节奏同步实验中，本文的基于相位环距离的奖励函数，在达到优异节拍对齐（`Δt_max` 最小）的同时，保持了最低的频率调整方差（`σ(ω~)` 最小），说明运动更平滑自然。
    - 成功在Unitree Go1机器人上进行了**悬空同步**和**户外行走同步**的实机演示，验证了整套系统的实时性与鲁棒性。

### **总结**
本文的核心价值在于，**将生物的运动节律性与音乐的节奏性联系起来，并通过一个精心设计的分层学习框架，在足式机器人上实现了精确、平滑、可实时部署的“随乐行走”**。这不仅为机器人增添了娱乐互动性，更重要的是**提供了一种通过显式建模频率和相位来增强学习控制器可控性的新范式**，为未来实现更复杂的节奏性动作（如舞蹈）奠定了基础。


### 问题 2

**Q**: 请用一段话总结这篇论文，明确说明：论文试图解决的核心问题；提出的主要方法或框架；最终取得的主要效果或结论。要求语言简洁、信息密度高，不要复述摘要原文。

**A**: ## 论文总结

这篇论文旨在解决足式机器人运动控制中常被忽视的**频率与相位精确调控**问题，使机器人能够像生物一样，实现与外部音乐节奏的**实时同步行走**。

为此，作者提出了一个**分层控制架构**：底层是一个结合了可训练相位跟踪器和分布式振荡器的网络，负责精确跟踪指定的步态频率；高层是一个相位调制网络，负责根据音乐节拍的频率和相位信息，动态微调底层振荡器的频率，从而实现步态相位与音乐节拍的精确对齐。该方法还引入了一个地面反作用力预测模块，以降低对高精度力传感器的依赖。

实验结果表明，该控制器能让四足机器人（Unitree Go1）在物理世界中**实时生成多样化的步态**，并成功实现与不同节奏音乐的**高精度同步行走**，最大节拍对齐误差可低至0.06秒。这项工作为足式机器人执行复杂的节律性动作（如舞蹈）奠定了技术基础。


### 问题 3

**Q**: 这篇论文相对于已有工作有哪些明确的创新点？请逐条列出，并对每一条说明：相比以往方法改进或不同之处在哪里，以及该创新解决了什么具体问题或带来了什么优势。

**A**: ## 论文创新点分析

这篇论文《Music-Driven Legged Robots: Synchronized Walking to Rhythmic Beats》针对足式机器人如何与外部音乐节奏同步行走的问题，提出了一套创新的分层控制架构。其核心创新点主要体现在系统架构设计、关键模块引入以及实际部署优化三个方面。

以下是相对于已有工作的明确创新点及其分析：

### 1. **提出“可训练相位跟踪器+振荡器”的组合，实现精确的频率跟踪**
   - **相比以往方法的改进/不同之处**：
     - **传统或混合CPG方法**：许多基于中央模式发生器（CPG）或结合强化学习的方法，其振荡器的频率通常与机器人的速度命令强绑定（例如，`ω` 直接由 `v_cmd` 决定）。这使得机器人难以接受独立的外部**标称频率**指令。
     - **本文方法**：论文设计了一个**低层相位跟踪策略网络** (`π_l`) 与**分布式相位振荡器**的级联结构。振荡器的内在频率 `ω~` 可以作为一个独立的控制输入。在训练低层网络时，作者对速度和频率命令进行了**域随机化**，生成了多样化的组合，使网络能够解耦速度与频率的依赖关系。
   - **解决的具体问题/带来的优势**：
     - **问题**：解决了以往控制器无法独立、精确地跟踪外部给定频率（如音乐节拍频率）的问题。
     - **优势**：为机器人同步音乐节奏奠定了**频率一致性**的基础。机器人现在可以像接受速度命令一样，接受一个目标步频命令，并稳定地以该频率行走，这是实现节拍同步的先决条件。

### 2. **引入地面反作用力预测模块，降低对高精度力传感器的依赖**
   - **相比以往方法的改进/不同之处**：
     - **现有反馈振荡器**：许多基于反馈的振荡器（如Owaki-Kano模型）依赖**归一化地面反作用力** `G_i^norm` 来调整相位动态，以实现自稳定和步态涌现。但这通常需要足底安装高精度力/力矩传感器。
     - **本文方法**：论文训练了一个神经网络，仅根据机器人的**本体感知信息**（如关节状态、足部接触开关信号）来**预测** `G^norm`。在训练策略时，采用了一种**课程学习式**的混合方法，逐步从模拟的真实力过渡到预测力。
   - **解决的具体问题/带来的优势**：
     - **问题**：解决了在**没有足底力传感器**的机器人平台上部署基于力反馈的振荡器控制器的难题。
     - **优势**：**增强了系统的实用性和可移植性**。许多低成本或中等成本的足式机器人（如Unitree Go1）可能不具备精确的足底力传感，该模块使得论文的高性能控制器能够部署在更广泛的硬件上。

### 3. **设计分层控制框架与专门的相位调制器，实现平滑的实时节奏同步**
   - **相比以往方法的改进/不同之处**：
     - **整体架构**：提出了清晰的两阶段分层框架：**低层（频率跟踪）** + **高层（相位调制）**。高层网络 (`π_h`) 专门负责处理音乐特征（节拍频率 `ω_m`, 音乐帧相位 `θ_m`），并输出对机器人内在频率 `ω~` 的微小调整量 `δω`。
     - **奖励函数设计**：高层的奖励函数 `r_Rhythm` 被设计为最小化**机器人振荡器相位环**与**音乐相位环**之间的“几何距离”。这与一些舞蹈生成工作中使用的、基于节拍瞬时触发的奖励（如论文中的 `r_1`, `r_2`）有本质不同。
   - **解决的具体问题/带来的优势**：
     - **问题**：解决了如何让机器人在保持自然、平滑步态的同时，**动态、柔和地**调整自身相位以对齐音乐节拍的问题。简单粗暴的相位锁定会导致步态突变和不自然。
     - **优势**：
       1. **实现平滑同步**：通过微调频率来间接、连续地调整相位，实现了**相位一致性**，同时保证了步态的连续性。
       2. **提升同步质量**：如表I所示，论文的方法在达到优异节拍对齐（`Δt_max` 小）的同时，其内在频率的方差 `σ(ω~)` 远小于其他奖励函数方案。这意味着机器人用更小、更平滑的频率调整就完成了同步，动作更自然。
       3. **支持仿真到实物的无缝迁移**：分层设计和高层网络的小输出维度有利于实时运行和稳定部署。

### 4. **针对实时部署的系统性延迟优化方案**
   - **相比以往方法的改进/不同之处**：
     - 论文不仅提出了控制算法，还详细阐述了在**真实世界**部署时面临的关键挑战（网络推理、通信、音频采集与处理的延迟）及解决方案。
     - 具体措施包括：平衡音乐分析窗口大小、基于时间戳计算音乐相位（而非依赖处理后的信号）、对提取的频率进行中值滤波平滑。
   - **解决的具体问题/带来的优势**：
     - **问题**：解决了严格时序同步任务中，系统各环节延迟累积导致同步失败的核心工程难题。
     - **优势**：**确保了算法在物理机器人上的实时有效性**。这使得“音乐驱动行走”从一个仿真概念落地为真实的机器人演示，如图8和户外实验所示，凸显了研究的**实际应用价值**。

### 总结
这篇论文的核心创新在于**系统性地解决了足式机器人“听音乐走路”的闭环问题**。它并非单一算法的突破，而是通过**新颖的分层架构设计**，将**频率解耦控制**、**传感器替代方案**、**平滑相位调制策略**和**实时部署优化**有机结合，形成了一个完整、可用且性能优越的解决方案。这不仅为机器人增添了娱乐和拟人化交互的可能性，更重要的是，为足式机器人实现更复杂、更精确的节律性运动（如舞蹈）提供了一个可扩展的基础框架。


### 问题 4

**Q**: 论文在实验或评估中最终实现了怎样的效果？请说明使用了哪些数据集和评价指标，与哪些基线方法进行了对比，以及在关键指标上的主要性能提升或结论。如果论文未给出明确的定量结果，也请说明原因。

**A**: ## 论文实验与评估效果分析

该论文通过仿真和实物实验，验证了所提出的**分层控制架构**在实现四足机器人**随音乐节奏同步行走**方面的有效性。以下是详细的实验设置、评估指标、对比方法和关键结论。

### 一、 实验效果概述
论文最终成功实现了：
1.  **频率跟踪**：低层网络能精确跟踪外部给定的步态频率指令（1.5 Hz - 4.0 Hz）。
2.  **节奏同步**：高层网络能使机器人步态的“运动节拍”（脚触地时刻）与音乐节拍在**频率和相位**上实现实时对齐。
3.  **仿真到现实迁移**：整套控制器成功部署在**Unitree Go1**实体机器人上，在室内悬挂和室外平地场景中均实现了与音乐的实时同步行走。

### 二、 使用的数据集
- **训练数据集**：**AIST++** 数据集。这是一个包含多样化舞蹈动作与对应音乐的数据集，论文从中提取音乐片段用于高层网络的训练。
- **测试音乐**：从AIST++数据集中选取了三首不同节奏（BPM）的音乐进行测试：
    - `mLO1` (89.6 BPM)
    - `mJS4` (120.0 BPM)
    - `mJB1` (181.8 BPM)

### 三、 评价指标
论文使用了以下**定量和定性指标**进行评估：

1.  **频率跟踪偏差**：指令频率 `f_cmd` 与实际从地面反作用力（GRF）中计算出的步频之间的平均偏差和方差。用于评估低层网络的性能。
2.  **节拍对齐误差**：`Δt_max`，即**运动节拍**（GRF周期中的峰值时刻，代表脚触地）与**音乐节拍**之间的最大时间差。该值越小，同步精度越高。
3.  **内部频率方差**：`σ(ω̃)`，即高层网络为同步而调整的机器人内部频率 `ω̃` 的标准差。该值反映了同步过程的**平滑性**。方差越小，说明调整越细微，步态越自然，没有生硬的“急拉”现象。
4.  **基体高度稳定性**：通过测量机器人基体高度的波动范围，评估不同步频下的行走稳定性。
5.  **实物部署验证**：通过**悬挂实验**（可视化节拍对齐）和**户外行走实验**，进行定性验证。

### 四、 对比的基线方法
论文将提出的高层网络奖励函数（基于**相位环几何距离**）与另外两种从舞蹈生成领域借鉴的奖励函数进行了对比：
- **Ours (本文方法)**：奖励函数基于机器人振荡器相位与音乐相位在单位圆上的“距离”最小化（公式8）。
- **Reward1**：基于平滑后的音乐节拍信号与机器人特定相位（3π/2）的对齐程度（公式9）。
- **Reward2**：灵感来自舞蹈生成工作[27]，惩罚在音乐节拍出现时没有运动节拍的情况（公式10）。

**注意**：论文**没有**与其他的机器人步态控制或节奏同步的SOTA方法进行直接对比。其对比主要集中于**验证自身提出的奖励函数的优越性**。

### 五、 关键性能与结论
根据论文中的表I和实验结果，可以得出以下主要结论：

| 音乐 (BPM) | 方法 | **节拍对齐误差 Δt_max (s)** ↓ | **内部频率方差 σ(ω̃)** ↓ |
| :--- | :--- | :--- | :--- |
| mLO1 (89.6) | **Ours** | **0.06** | **0.045** |
| | Reward1 | 0.45 | 1.925 |
| | Reward2 | 0.23 | 0.707 |
| mJS4 (120.0) | **Ours** | **0.01** | **0.040** |
| | Reward1 | 0.04 | 3.832 |
| | Reward2 | 0.08 | 0.782 |
| mJB1 (181.8) | **Ours** | **0.03** | **0.043** |
| | Reward1 | 0.05 | 2.911 |
| | Reward2 | 0.06 | 1.172 |

**主要性能提升与结论：**

1.  **卓越的同步精度**：在三种不同节奏的音乐下，本文方法（Ours）的**节拍对齐误差（Δt_max）均是最低的**（0.01s-0.06s），表明其能实现非常精确的相位同步。
2.  **优异的运动平滑性**：本文方法的**内部频率方差（σ(ω̃)）远低于其他两种对比方法**（低1-2个数量级）。这表明本文方法通过微调频率来实现相位同步，避免了大幅度的频率突变，从而保证了步态的**自然性和平滑性**，没有为了“卡点”而产生突兀的抖动。
3.  **稳定的频率跟踪基础**：低层网络在频率跟踪实验中，在所有测试频率下的平均偏差小于0.05 Hz，方差低于0.01，为高层的高精度节奏同步提供了可靠的基础。
4.  **有效的仿真到现实迁移**：通过处理实时延迟（时间戳、频率平滑等策略），控制器成功在真实机器人上运行，并通过视频证明了其在实际环境中的同步能力。

**总结**：论文通过精心设计的实验和明确的量化指标（Δt_max, σ(ω̃)），有力地证明了其提出的**分层架构**和**基于相位环距离的奖励函数**的有效性。其核心优势在于**同时实现了高精度的节奏同步和高平滑度的自然步态**，这是对比方法所未能兼顾的。实物部署成功验证了该框架的实用性和鲁棒性。


## 相关链接

- [arXiv 页面](https://arxiv.org/abs/2503.04063v1)
- [HTML 版本](https://arxiv.org/html/2503.04063v1)
