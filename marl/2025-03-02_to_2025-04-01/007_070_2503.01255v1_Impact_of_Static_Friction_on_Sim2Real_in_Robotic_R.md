# Impact of Static Friction on Sim2Real in Robotic Reinforcement Learning

**相关性评分**: 7.0/10

**排名**: #7


---


## 基本信息

- **arXiv ID**: [2503.01255v1](https://arxiv.org/abs/2503.01255v1)
- **发布时间**: 2025-03-03T07:30:09Z
- **相关性评分**: 7.0/10
- **是否相关**: 是

## 作者

Xiaoyi Hu, Qiao Sun, Bailin He, Haojie Liu, Xueyi Zhang, Chunpeng lu, Jiangwei Zhong

## 关键词

Robot control, quadruped robot locomotion, multi-agent RL, CTDE methods, Edge Deployment, mujoco, local observational information

## 一句话总结

该论文探讨了静态摩擦对机器人强化学习中Sim2Real迁移的影响，并提出了一种静态摩擦感知的域随机化方法，以提高四足机器人在复杂地形上的适应性和性能。

## 摘要

In robotic reinforcement learning, the Sim2Real gap remains a critical challenge. However, the impact of Static friction on Sim2Real has been underexplored. Conventional domain randomization methods typically exclude Static friction from their parameter space. In our robotic reinforcement learning task, such conventional domain randomization approaches resulted in significantly underperforming real-world models. To address this Sim2Real challenge, we employed Actuator Net as an alternative to conventional domain randomization. While this method enabled successful transfer to flat-ground locomotion, it failed on complex terrains like stairs. To further investigate physical parameters affecting Sim2Real in robotic joints, we developed a control-theoretic joint model and performed systematic parameter identification. Our analysis revealed unexpectedly high friction-torque ratios in our robotic joints. To mitigate its impact, we implemented Static friction-aware domain randomization for Sim2Real. Recognizing the increased training difficulty introduced by friction modeling, we proposed a simple and novel solution to reduce learning complexity. To validate this approach, we conducted comprehensive Sim2Sim and Sim2Real experiments comparing three methods: conventional domain randomization (without Static friction), Actuator Net, and our Static friction-aware domain randomization. All experiments utilized the Rapid Motor Adaptation (RMA) algorithm. Results demonstrated that our method achieved superior adaptive capabilities and overall performance.

## 详细分析

## 论文摘要

**论文标题：** 静态摩擦对机器人强化学习中仿真到现实迁移的影响

**研究背景和动机：**
在机器人强化学习领域，仿真到现实（Sim2Real）的差距是一个关键挑战。现有方法，如传统的域随机化，通常在其参数空间中忽略关节的**静态摩擦**。然而，作者在部署其六足机器人Saturn Lite时发现，仅随机化转子惯量、粘性摩擦、Kp和Kd等常规参数，模型在现实世界表现不佳。这促使他们系统性地探究了静态摩擦对Sim2Real的影响。

**核心方法和技术创新：**
1.  **问题诊断与建模：** 基于控制理论建立了关节的二阶动力学模型，并通过参数辨识发现其机器人关节的**静摩擦力矩与最大扭矩之比异常高**（约0.98%），远高于主流机器人（如Go1的0.13%），这解释了传统方法失效的原因。
2.  **提出静态摩擦感知的域随机化：** 为解决此问题，论文创新性地将静态摩擦纳入域随机化的参数空间。为了克服引入非线性摩擦导致的训练困难，作者提出了一种**“欺骗”方法**——不是精确匹配真实摩擦值，而是**大幅扩展静态摩擦的随机化范围**（例如从0到1.2倍标称值），从而降低学习复杂度并增强模型鲁棒性。
3.  **对比验证框架：** 在Rapid Motor Adaptation算法框架下，系统比较了三种Sim2Real方法：**传统域随机化（无静态摩擦）**、**Actuator Net方法**以及提出的**静态摩擦感知域随机化**。

**主要实验结果：**
1.  **仿真到仿真（Sim2Sim）：** 在Webots中，传统方法性能最佳，Actuator Net表现异常，而静态摩擦感知方法虽出现抖动但能完成爬楼梯任务。
2.  **仿真到现实（Sim2Real）：**
    *   传统方法：机器人仅能倒退行走，前进则摔倒。
    *   Actuator Net：能在平地上前进但不稳定，且无法应对楼梯等复杂地形。
    *   **静态摩擦感知域随机化：** 成功实现了在平地的稳定行走以及上下楼梯的复杂地形适应，表现出**最优的整体性能和自适应能力**。

**研究意义和价值：**
1.  **首次系统揭示并验证了静态摩擦的关键影响：** 为机器人强化学习的Sim2Real研究提供了一个新的重要考量维度，尤其对于关节摩擦扭矩占比较高的机器人系统。
2.  **提出实用解决方案：** 所提出的静态摩擦感知域随机化方法简单有效，不仅有助于补偿仿真与现实的动力学差异，其**宽范围的随机化策略还可能增强模型对机械磨损和疲劳的鲁棒性**，具有实际工程价值。
3.  **成功应用于新型机器人平台：** 方法在联想自研的六足机器人Saturn Lite上得到验证，为解决类似机器人的Sim2Real问题提供了可借鉴的范例。

## 问答对

### 问题 1

**Q**: 这篇论文的核心创新点是什么，他想解决什么问题，怎么解决的？

**A**: ## 论文核心分析

### **研究问题**
论文旨在解决机器人强化学习（RL）中“仿真到现实”（Sim2Real）迁移的核心挑战。作者发现，在其实验中，**关节的静摩擦力**对Sim2Real性能的影响被严重低估，而传统的域随机化方法通常忽略此参数，导致训练出的模型在真实机器人上表现不佳。

### **核心创新点**
1.  **首次系统性地识别并论证了静摩擦力对机器人强化学习Sim2Real的关键影响**。通过参数辨识和对比实验，证明了在特定机器人（关节静摩擦力-扭矩比高）上，忽略静摩擦力会导致Sim2Real迁移失败。
2.  **提出了“静摩擦力感知的域随机化”方法**。为了解决引入静摩擦力建模带来的训练难题（非线性、动作混沌），作者提出了一个**简单而新颖的“欺骗”策略**：不是精确匹配真实静摩擦力，而是**大幅扩大仿真中静摩擦力的随机化范围**（例如从0到1.2倍标称值）。这降低了训练难度并增强了模型对机械磨损的鲁棒性。
3.  **基于控制理论的分析简化了域随机化参数空间**。通过建立关节的二阶控制模型，作者分析指出，在PD控制器中，微分增益 `Kd` 和关节粘性摩擦 `Bj` 在动力学方程中作用可相互抵消，因此**只需随机化其中之一**，从而减少了不必要的随机化维度。

### **解决方案与技术路径**
1.  **问题诊断**：
    *   在自研的六足机器人Saturn Lite上，使用传统域随机化（不含静摩擦）训练的策略在真实部署时失败（仅能倒退行走）。
    *   使用**Actuator Net**方法（用真实电机数据建模）能实现平地步态，但无法适应复杂地形（如楼梯），且泛化性差、训练流程繁琐。
    *   通过**系统性的参数辨识**，发现Saturn Lite关节的**静摩擦力-最大扭矩比值（约0.98%）远高于主流机器人如Go1（约0.13%）**，揭示了其Sim2Real问题的物理根源。

2.  **方法提出与实现**：
    *   **控制模型**：建立关节动力学方程 `Ij * θ¨j + Bj * θ˙j = τj + fj(t)`，明确静摩擦力 `fj(t)` 的影响。
    *   **“欺骗”式随机化**：在域随机化参数中加入静摩擦力，并**大幅拓宽其随机范围**（`[0.0, 1.2] * 标称值`）。这使得策略在训练中既能遇到低摩擦的“简单”场景，也能覆盖高摩擦的“困难”场景，从而学会适应。
    *   **训练框架**：采用**快速电机适应算法**，包含拥有特权信息的教师网络和通过行为克隆学习的学生网络。奖励函数经过专门设计，以引导六足机器人形成稳定的三角步态。

3.  **实验验证**：
    *   在**Sim2Sim**（Webots仿真）和**Sim2Real**（真实机器人）中，全面对比了三种方法：
        *   **传统域随机化（无静摩擦）**：仿真性能好，真实部署失败。
        *   **Actuator Net**：真实平地可行走，仿真行为异常，无法上楼梯。
        *   **本文方法（静摩擦力感知随机化）**：在真实世界中实现了**稳定的平地行走和上下楼梯**，综合性能最优。

### **实际价值**
*   **为高摩擦关节机器人的Sim2Real提供了有效解决方案**：对于因防水、重载等原因导致关节摩擦较大的机器人，该研究指出了关键问题并给出了可行方法。
*   **提升了策略的鲁棒性与泛化性**：大幅随机化静摩擦力的方法，不仅补偿了建模误差，理论上也能使策略对机器人长期运行后的**机械磨损和疲劳**具有更好的适应性。
*   **提供了可复现的分析与工程框架**：从参数辨识、控制理论分析到训练技巧，为后续研究类似Sim2Real问题提供了清晰的范式。

**总结**：本文的核心创新在于**揭示了静摩擦力这一常被忽视的物理参数在特定机器人Sim2Real中的决定性作用，并提出了一种通过“过度随机化”该参数来有效解决此问题且能提升系统鲁棒性的实用方法。**


### 问题 2

**Q**: 请用一段话总结这篇论文，明确说明：论文试图解决的核心问题；提出的主要方法或框架；最终取得的主要效果或结论。要求语言简洁、信息密度高，不要复述摘要原文。

**A**: 这篇论文针对机器人强化学习中仿真到现实（Sim2Real）迁移的核心挑战，深入研究了**静态摩擦力**这一被传统方法忽视的关键物理参数的影响。作者发现，在自研的六足机器人Saturn Lite上，常规的域随机化方法因未包含静态摩擦力而导致现实部署性能严重下降。为此，论文提出了一个**基于控制理论分析的静态摩擦力感知域随机化框架**：首先通过系统性的参数辨识，量化了机器人关节中异常高的静摩擦扭矩比；然后，针对引入静摩擦建模后训练难度剧增的问题，提出了一种**“欺骗”策略**，即通过大幅扩大静摩擦力的随机化范围而非追求精确匹配，来降低学习复杂度并提升模型鲁棒性。实验表明，该方法在Sim2Sim和Sim2Real测试中均优于传统域随机化和Actuator Net方法，成功实现了机器人在平地行走和复杂地形（如楼梯）上的稳定自适应运动，验证了静态摩擦力建模对于解决特定机器人Sim2Real问题的重要性和有效性。


### 问题 3

**Q**: 这篇论文相对于已有工作有哪些明确的创新点？请逐条列出，并对每一条说明：相比以往方法改进或不同之处在哪里，以及该创新解决了什么具体问题或带来了什么优势。

**A**: ## 论文创新点分析

这篇论文针对机器人强化学习中的Sim2Real（从仿真到现实）问题，特别是静态摩擦的影响，提出了多项明确的创新。以下是逐条分析：

### 1. **首次系统性地识别并论证了静态摩擦对机器人强化学习Sim2Real的关键影响**
   - **相比以往方法的改进/不同之处**：
     - **传统方法忽略静态摩擦**： 现有的主流域随机化方法通常将关节的转子惯量、粘性摩擦、PD控制器增益等参数纳入随机化范围，但**普遍将静态摩擦排除在外**，认为其影响可忽略。
     - **本文的发现与验证**： 通过控制理论建模和系统性的参数辨识，作者发现其自研机器人（Saturn Lite）关节的**静态摩擦-最大扭矩比异常高**（约0.98%，而对比机器人Go1仅为0.13%）。他们首次通过对比实验（Sim2Sim和Sim2Real）严格证明了，对于此类机器人，**忽略静态摩擦的域随机化会导致现实部署的严重失败**。
   - **解决的具体问题/带来的优势**：
     - **揭示了被忽视的Sim2Real瓶颈**： 明确了在高扭矩比关节的机器人中，静态摩擦是一个不可忽略的、导致仿真与现实性能鸿沟的关键物理因素。
     - **提供了诊断工具**： 提出的参数辨识方法（基于二阶控制模型和最小二乘法）为其他研究者分析和量化自身机器人平台的摩擦特性提供了可复现的路径。

### 2. **提出了“静态摩擦感知的域随机化”方法及配套的“欺骗法”训练技巧**
   - **相比以往方法的改进/不同之处**：
     - **方法创新**： 在域随机化参数空间中**显式地加入了静态摩擦** (`fj(t)`)，并对其在一个较宽的范围（如[0.0, 1.2]倍标称值）进行随机化。
     - **训练技巧创新**： 作者发现直接引入静态摩擦会因非线性导致训练失败（智能体动作被“过滤”，陷入局部最优）。为此，他们提出了 **“欺骗法”** ：**不再追求仿真与现实的静态摩擦完美匹配，而是大幅扩大仿真中静态摩擦的随机化范围**。这既包含了低摩擦场景以降低训练难度，也覆盖了高摩擦场景以提升鲁棒性。
   - **解决的具体问题/带来的优势**：
     - **解决了高摩擦机器人的Sim2Real迁移问题**： 该方法使其Saturn Lite机器人在现实世界中实现了平坦地面和楼梯场景下的稳定行走，性能显著优于传统域随机化和Actuator Net方法。
     - **提升了模型对机械磨损的潜在鲁棒性**： 宽范围的随机化使策略能够适应关节因长期使用导致的摩擦特性变化，增强了系统的长期可靠性。
     - **简化了训练流程**： 相比需要收集真实数据、迭代训练的Actuator Net方法，该方法完全在仿真中完成，更高效。

### 3. **基于控制理论分析，精简了域随机化的参数空间**
   - **相比以往方法的改进/不同之处**：
     - **理论指导的参数筛选**： 通过对关节二阶动力学模型 `Ijθ¨j(t) + Bjθ˙j(t) = τj(t) + fj(t)` 的分析，作者指出PD控制器的微分增益 `Kd` 与关节的粘性阻尼 `Bj` 在方程中作用相似，可以相互抵消。
     - **参数精简**： 因此，在随机化时，**只需对 `Bj` 和 `Kd` 二者之一进行随机化即可**，无需同时随机化两者，从而减少了不必要的参数维度。
   - **解决的具体问题/带来的优势**：
     - **降低了训练复杂度**： 减少了域随机化的超参数数量，有助于缓解因过度随机化导致的训练难度增加和性能下降问题，使学习过程更聚焦于关键差异。

### 4. **为六足机器人设计了一种新的奖励函数以约束其步态**
   - **相比以往方法的改进/不同之处**：
     - **问题针对性**： 作者发现，适用于四足机器人的标准奖励函数会使他们的六足机器人倾向于采用“齐足跳”步态，而非更稳定的“三角步态”。
     - **奖励函数创新**： 他们引入了 **“接触组”** 的概念，将六条腿分为两组（`C0G` 和 `C1G`），并设计了两部分奖励：
       1.  `rtrot`: 确保任意时刻只有一组腿接触地面（强制三角步态，避免齐足跳）。
       2.  `runsync`: 确保在一段时间内两组腿被均衡使用（避免变成“三足跳”）。
   - **解决的具体问题/带来的优势**：
     - **实现了期望的步态**： 成功引导六足机器人在强化学习训练中自发形成稳定、高效的三角步态，这是其实现复杂地形适应能力的基础。

### 5. **在一个新颖的、具有高摩擦特性的六足机器人平台上进行了全面验证**
   - **相比以往工作的不同之处**：
     - **平台特殊性**： 论文的工作基于自研的Saturn Lite六足机器人，该机器人具有**质量大（32kg）、续航长、关节静态摩擦-扭矩比高**的特点。这与主流研究常使用的四足机器人（如Go1）或低摩擦仿真假设形成鲜明对比。
     - **全面的实验对比**： 在**同一平台、同一任务（平地/楼梯）** 上，系统性地对比了三种Sim2Real方法：传统域随机化（无静态摩擦）、Actuator Net、以及本文提出的静态摩擦感知域随机化。这种“控制变量”式的对比强有力地支撑了其核心论点。
   - **带来的优势**：
     - **验证了创新的普适性与局限性**： 明确了所提方法对于特定类型（高摩擦、大质量）机器人的有效性和必要性，丰富了Sim2Real研究的场景。
     - **提供了新的基准案例**： 为后续研究高摩擦、多足机器人的Sim2Real问题提供了一个具体的实验范例和对比基线。

**总结**： 本文的核心创新在于**从一个常被忽略的物理参数（静态摩擦）出发，通过严谨的建模、辨识和实验，揭示了其对Sim2Real的关键影响，并提出了一套行之有效的解决方案**。这不仅解决了作者特定机器人的部署难题，也为更广泛的机器人强化学习研究提供了新的分析维度和实用工具。


### 问题 4

**Q**: 论文在实验或评估中最终实现了怎样的效果？请说明使用了哪些数据集和评价指标，与哪些基线方法进行了对比，以及在关键指标上的主要性能提升或结论。如果论文未给出明确的定量结果，也请说明原因。

**A**: ## 论文实验与评估效果分析

该论文通过一系列**Sim2Sim**（模拟到模拟）和**Sim2Real**（模拟到现实）实验，系统地评估了所提出的**静摩擦感知域随机化**方法的有效性。

### 一、 实验设置与评价指标

1.  **机器人平台与任务**：
    - **平台**： 自研的六足机器人 **Saturn Lite**。
    - **核心任务**： 评估机器人在**平地行走**和**楼梯攀爬**两种场景下的运动性能与地形适应能力。
    - **传感器**： 仅使用**本体感知传感器**（IMU、关节编码器），未使用外部感知（如激光雷达、相机）。

2.  **数据集**：
    - 论文**未使用**公开的离线数据集。
    - 用于训练**Actuator Net**的数据集是通过在真实机器人上运行一个初步策略（仅能后退行走）**在线收集**的关节位置、速度和扭矩数据。
    - 用于**参数辨识**的数据集是通过向关节发送正弦激励信号 `A sin(ωt)` 并记录其响应在线生成的。

3.  **评价指标**：
    - 论文**未提供**如行走速度、能量效率、成功率等**标准化的定量指标**。
    - 评估主要基于**定性观察和比较**：
        - **运动稳定性**： 机器人是否能稳定站立、行走而不摔倒。
        - **地形适应性**： 机器人能否成功完成平地前进、后退以及上下楼梯的任务。
        - **行为异常**： 是否出现剧烈抖动、跳跃或不协调的步态。

### 二、 对比的基线方法

论文将提出的方法与以下两种主流Sim2Real方法进行了对比：

1.  **传统域随机化**： 随机化关节转子惯量 `Ij`、粘性摩擦 `Bj`、电机强度 `kmotor`、PD控制器参数 `Kp/Kd`、地面摩擦等，但**不包含静摩擦 `fj`**。
2.  **Actuator Net**： 使用从真实机器人收集的关节数据训练一个神经网络来模拟执行器动态，并在仿真中用该网络替代标准的PD控制器。

3.  **本文方法**： **静摩擦感知域随机化**。在传统域随机化的基础上，**显式地将关节静摩擦 `fj` 纳入随机化参数空间**，并采用“欺骗法”扩大其随机化范围以降低训练难度。

**所有方法均基于相同的强化学习算法——快速运动适应** 进行策略训练。

### 三、 关键实验结果与结论

实验分为Sim2Sim（在Webots仿真中测试）和Sim2Real（在真实Saturn Lite机器人上部署）两部分，结果对比如下：

| 测试场景 | 传统域随机化 (无静摩擦) | Actuator Net | 本文方法 (静摩擦感知域随机化) |
| :--- | :--- | :--- | :--- |
| **Sim2Sim (Webots)** | **性能最佳**，能稳定完成平地与楼梯任务。 | **性能最差**，出现显著异常行为，最终导致系统失败。 | 性能尚可，但机器人表现出**不规则的抖动和跳跃**，不过仍能上下楼梯。 |
| **Sim2Real (真实机器人)** | **失败**。仅能后退行走，前进则摔倒。无法爬楼梯。 | **部分成功**。能在平地**不稳定地**前进行走，但**完全无法**爬楼梯。 | **全面成功**。能在平地**稳定**行走，并能成功**攀爬楼梯**。 |

#### 主要结论与性能提升：

1.  **揭示了静摩擦的关键影响**： 实验表明，对于Saturn Lite这类**静摩擦-扭矩比**较高的机器人（论文测得约为0.98%，而对比的Go1机器人仅为0.13%），忽略静摩擦会导致严重的Sim2Real性能下降。传统方法在仿真中表现良好但在现实中失败，直接证明了仿真与现实在关节动力学上存在显著差异，而静摩擦是主因之一。

2.  **验证了所提方法的有效性**：
    - **解决了传统方法的失效问题**： 通过将静摩擦纳入训练，成功实现了从仿真到真实世界的策略迁移，使机器人获得了在复杂地形（楼梯）上的适应能力，这是传统域随机化和Actuator Net均未能实现的。
    - **克服了训练难题**： 论文发现直接引入静摩擦会使训练失败（早期动作被过滤，机器人不动）。提出的“欺骗法”（大幅扩大静摩擦随机化范围）是一种简单而新颖的解决方案，它通过让策略在训练中既经历高摩擦也经历低摩擦场景，有效降低了学习复杂度，使训练得以进行。

3.  **阐明了各方法的局限性**：
    - **传统域随机化**： 因忽略关键物理参数（静摩擦），泛化能力不足，无法应对现实差异。
    - **Actuator Net**： 严重依赖于收集数据时所处的状态（仅限平地后退）。其学到的模型**过拟合于特定机器人和特定运动模式**，泛化能力差，无法适应新地形（楼梯），且Sim2Sim性能差表明其模拟的动力学与仿真引擎本身存在冲突。
    - **本文方法**： 在Sim2Sim中性能有牺牲（出现抖动），但换来了卓越的Sim2Real性能。这体现了**在仿真保真度与策略鲁棒性之间的权衡**。

### 四、 关于定量结果的说明

论文**没有提供**如具体步速、爬楼梯成功率、扭矩跟踪误差等精确的定量指标。其评估主要是**定性和比较性**的，核心结论建立在“能否完成任务”这一基本性能对比之上。

**可能的原因**包括：
1.  研究重点在于**揭示和验证“静摩擦”这一物理因素对Sim2Real的关键影响**，而非追求在特定指标上达到极致性能。
2.  六足机器人的控制本身较为复杂，在真实环境中进行精确、可重复的定量测量挑战较大。
3.  作为一篇侧重**问题发现和方法验证**的论文，定性的成功部署足以支撑其核心论点。

**总结**： 该论文通过对比实验，强有力地证明了**静摩擦是影响特定机器人Sim2Real性能的关键因素**，并提出了有效的解决方案。其最终实现的效果是让一个在传统方法下无法正常行走的六足机器人，能够稳定地在平地行走并成功攀爬楼梯，显著提升了从仿真到现实迁移的鲁棒性和适应性。


## 相关链接

- [arXiv 页面](https://arxiv.org/abs/2503.01255v1)
- [HTML 版本](https://arxiv.org/html/2503.01255v1)
